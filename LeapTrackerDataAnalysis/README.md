# LeapTracker Data Analysis

## Overview
The `LeapTrackerAnalysis.py` script is part of the LeapTracker system. 
It is designed to analyse data from hand rehabilitation exercises using 
the Leap Motion Controller. It processes CSV files generated by the 
LeapTracker C++ application, providing analysis and visualisation of 
patient progress across sessions.

## Features
- Processes CSV files from LeapTracker sessions
- Analyses data for hand exercises including:
  - Make a Fist
  - Thumb Touch
  - Pincer Grip
  - Wrist Active Range of Motion (AROM)
  - Pronation/Supination
- Generates box plots and calculates statistics
- Exports summary statistics to CSV files
- Saves plots and statistics to 'plots' subdirectory

## Prerequisites
Before running the script, ensure you have:
1. Python 3.7 or higher installed
2. The following Python packages:
   - numpy
   - pandas
   - matplotlib
   - seaborn

You can install these packages using pip:
```bash
pip install numpy pandas matplotlib seaborn
```

## Installation
1. Clone the repository containing the `LeapTrackerAnalysis.py` script:
   ```bash
   git clone [repository_url]
   cd [repository_directory]
   ```
2. Ensure the script is in the same directory as your LeapTracker CSV files.

## Usage
To run the analysis script:
```bash
python LeapTrackerAnalysis.py
```

The script will automatically:
- Detect and load all relevant CSV files in the current directory
- Process and analyse the data for each exercise
- Generate box plots and summary statistics
- Save the results in a 'plots' subdirectory

## Input Data
The script expects CSV files generated by the LeapTracker application, following the naming convention:
`[ClientName]_session[Number]_[ExerciseName].csv`

Example file names:
- John_Doe_session1_make_a_fist.csv
- John_Doe_session2_thumb_touch.csv
- John_Doe_session3_wrist_arom.csv

Each CSV file should contain columns for:
- Client Name
- Session Number
- Exercise Name
- Timestamp
- Hand
- Various joint angles and positions specific to each exercise

## Output
The script generates two types of output for each analysed exercise:

1. Box Plot Images (.png):
   - Visualises the distribution of exercise metrics across sessions
   - Saved in the 'plots' subdirectory
   - File naming: `[exercise_name]_plot.png`

2. Summary CSV Files:
   - Contains detailed statistics for each session
   - Includes min, max, mean, median, and standard deviation
   - Saved in the 'plots' subdirectory
   - File naming: `[exercise_name]_summary.csv`

## Analysis Details
The script performs the following analyses for each exercise:
- Make a Fist: Calculates total hand closure based on joint angles
- Thumb Touch: Measures the distance between thumb and index finger
- Pincer Grip: Combines thumb-index distance and total flexion of other fingers
- Wrist AROM: Analyses total wrist range of motion and finger ROM
- Pronation/Supination: Evaluates palm and hand roll changes

Each analysis generates metrics that are then visualised and summarised.

## Relation to LeapTracker Package
This analysis script is designed to work seamlessly with the data produced by the LeapTracker C++ application:
1. Data Source: Processes CSV files generated by LeapTracker during hand tracking sessions.
2. Exercise Compatibility: Analyses the same exercises implemented in the LeapTracker game.
3. Metric Alignment: Calculates metrics that correspond to those used in real-time by LeapTracker.
4. Progress Tracking: Enables long-term analysis of patient progress across multiple LeapTracker sessions.
5. Complementary Functionality: While LeapTracker provides real-time feedback, this script offers in-depth post-session analysis.

## Troubleshooting
1. Ensure all required Python packages are installed.
2. Verify that the CSV files are in the same directory as the script.
3. Check that the CSV files follow the expected naming convention and structure.
4. Ensure you have write permissions in the directory for creating the 'plots' subdirectory.

## Contributing
Contributions to improve the analysis script are welcome. Please fork the repository and submit a pull request with your proposed changes.

## License
This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgments
- Ultraleap for the Leap Motion SDK
- Contributors to numpy, pandas, matplotlib, and seaborn libraries